<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡ßã‡¶® ‡¶ü‡¶æ‡¶á‡¶™‡ßá‡¶∞ ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞? - ‡¶∂‡¶´‡¶ø‡¶ï‡ßÅ‡¶≤ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        body { font-family: 'Hind Siliguri', sans-serif; background: #f8fafc; color: #1e293b; }
        .voter-card { box-shadow: 0 15px 35px rgba(0,0,0,0.1); border-radius: 2rem; overflow: hidden; }
        .btn-gradient { background: linear-gradient(135deg, #2563eb, #7c3aed); transition: all 0.3s; }
        .btn-gradient:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(37, 99, 235, 0.3); }
        .loader { border-top-color: #7c3aed; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        canvas { display: none; }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 font-sans flex flex-col items-center justify-start min-h-screen overflow-hidden">
  <div class="w-full max-w-lg mt-8 px-4 flex flex-col">
    <!-- Header Section -->
    <div class="w-full max-w-lg mt-8 px-4">
        <div class="text-center mb-6">
            <h1 class="text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600">
                ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡ßã‡¶® ‡¶ü‡¶æ‡¶á‡¶™‡ßá‡¶∞ ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞?
            </h1>
            <p class="text-gray-500 mt-2">‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶¨‡¶ï‡ßç‡¶∏‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ü‡¶æ‡¶á‡¶™ ‡¶ú‡¶æ‡¶®‡ßÅ‡¶®!</p>
        </div>

        <!-- Main Card UI -->
        <div class="voter-card bg-white p-6 md:p-8">
            <!-- Form Area -->
            <div id="input-area" class="space-y-5">
                <input type="text" id="userName" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ (‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶∂‡¶´‡¶ø‡¶ï)" 
                    class="w-full p-4 bg-gray-50 border-2 border-gray-100 rounded-2xl focus:border-purple-400 outline-none text-lg text-center font-semibold">
                
                <div class="grid grid-cols-3 gap-3">
                    <button onclick="selectMood('funny', this)" class="mood-btn p-3 border-2 border-purple-500 bg-purple-50 rounded-xl flex flex-col items-center transition-all" id="default-mood">
                        <span class="text-2xl">üòÇ</span> <span class="text-xs font-bold">‡¶´‡¶æ‡¶®‡¶ø</span>
                    </button>
                    <button onclick="selectMood('cool', this)" class="mood-btn p-3 border-2 border-transparent bg-gray-50 rounded-xl flex flex-col items-center transition-all">
                        <span class="text-2xl">üòé</span> <span class="text-xs font-bold">‡¶ï‡ßÅ‡¶≤</span>
                    </button>
                    <button onclick="selectMood('tired', this)" class="mood-btn p-3 border-2 border-transparent bg-gray-50 rounded-xl flex flex-col items-center transition-all">
                        <span class="text-2xl">üò¥</span> <span class="text-xs font-bold">‡¶ü‡¶æ‡ßü‡¶æ‡¶∞‡ßç‡¶°</span>
                    </button>
                </div>

                <button onclick="generateMagic()" class="w-full btn-gradient text-white font-bold py-5 rounded-2xl shadow-lg flex justify-center items-center gap-2">
                    ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ú‡¶ø‡¶ï ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® <i class="fa-solid fa-wand-magic-sparkles"></i>
                </button>
                
                <p class="text-[10px] text-center text-gray-400 uppercase tracking-widest">¬© DEVELOPED BY SOFIKUL ISLAM</p>
            </div>

            <!-- Loading UI -->
            <div id="loading-area" class="hidden py-16 text-center">
                <div class="loader ease-linear rounded-full border-4 h-12 w-12 mx-auto mb-4"></div>
                <p class="text-purple-600 font-bold animate-pulse">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ü‡¶æ‡¶á‡¶™ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</p>
            </div>

            <!-- Result UI -->
            <div id="result-area" class="hidden space-y-5 animate-in slide-in-from-bottom-5">
                <img id="outputImage" class="w-full rounded-2xl border-4 border-gray-50 shadow-inner" src="" alt="Poster">
                
                <div class="grid grid-cols-2 gap-3">
                    <button onclick="downloadImage()" class="bg-gray-800 text-white py-4 rounded-2xl font-bold flex items-center justify-center gap-2">
                        <i class="fa-solid fa-download"></i> ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>
                    <button onclick="shareResult()" class="bg-green-500 text-white py-4 rounded-2xl font-bold flex items-center justify-center gap-2">
                        <i class="fa-solid fa-share"></i> ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>
                </div>
                <button onclick="location.reload()" class="w-full text-gray-400 text-sm font-medium">‚Üê ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </div>
        </div>

        <!-- Developer Footer -->
        <footer class="mt-8 pt-6 border-t border-gray-200 text-center bg-white rounded-t-3xl shadow-inner">
            <div class="flex justify-center gap-4 mb-4">
                <a href="https://www.facebook.com/MD.SOFIKUL.ISLAM.OFFICIALL" class="h-9 w-9 bg-blue-600 text-white flex items-center justify-center rounded-full hover:scale-110 transition">
                    <i class="fa-brands fa-facebook-f"></i>
                </a>
                <a href="https://github.com/MR-D4RK-OFFICIAL" class="h-9 w-9 bg-gray-800 text-white flex items-center justify-center rounded-full hover:scale-110 transition">
                    <i class="fa-brands fa-github"></i>
                </a>
                <a href="https://t.me/MrGhostCipher" class="h-9 w-9 bg-blue-800 text-white flex items-center justify-center rounded-full hover:scale-110 transition">
                    <i class="fa-brands fa-telegram"></i>
                </a>
            </div>
            <p class="text-gray-700 font-bold">‡¶∂‡¶´‡¶ø‡¶ï‡ßÅ‡¶≤ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ</p>
            <p class="text-xs text-gray-400 mt-2 px-6 pb-4">
                ‡¶è‡¶á ‡¶∏‡¶æ‡¶á‡¶ü‡¶ü‡¶ø ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶¨‡¶ø‡¶®‡ßã‡¶¶‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶§‡ßà‡¶∞‡¶ø‡•§
            </p>
        </footer>
    </div>

    <!-- Hidden Rendering Canvas -->
    <canvas id="posterCanvas" width="1080" height="1350"></canvas>

    <script>
        let currentMood = 'funny';
        const siteURL = window.location.href.split('?')[0]; 

        // ‡ßß‡ß©‡¶ü‡¶ø ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ ‡¶ü‡¶æ‡¶á‡¶™
        const types = [
            { title: "‡¶¨‡¶ø‡¶∞‡¶ø‡ßü‡¶æ‡¶®‡¶ø ‡¶≤‡¶æ‡¶≠‡¶æ‡¶∞ ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ üçó", traits: ["‚Ä¢ ‡¶≠‡ßã‡¶ü ‡¶¶‡¶ø‡¶§‡ßá ‡¶ó‡¶ø‡ßü‡ßá ‡¶Ü‡¶ó‡ßá ‡¶¨‡¶ø‡¶∞‡¶ø‡ßü‡¶æ‡¶®‡¶ø ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá", "‚Ä¢ ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡¶æ ‡¶¶‡ßá‡¶ñ‡ßá ‡¶®‡¶æ, ‡¶Æ‡¶æ‡¶Ç‡¶∏‡ßá‡¶∞ ‡¶™‡¶ø‡¶∏ ‡¶¶‡ßá‡¶ñ‡ßá", "‚Ä¢ ‡¶∏‡¶æ‡¶∞‡¶æ‡¶¶‡¶ø‡¶® ‡¶¨‡¶ø‡¶∞‡¶ø‡ßü‡¶æ‡¶®‡¶ø‡¶∞ ‡¶ó‡¶≤‡ßç‡¶™ ‡¶ï‡¶∞‡ßá"] },
            { title: "‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤‡¶ø‡¶∂ ‡¶∏‡ßá‡¶≤‡¶´‡¶ø ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ ü§≥", traits: ["‚Ä¢ ‡¶Ü‡¶ô‡ßÅ‡¶≤‡ßá‡¶∞ ‡¶ï‡¶æ‡¶≤‡¶ø‡¶∞ ‡¶õ‡¶¨‡¶ø ‡¶®‡¶æ ‡¶¶‡¶ø‡¶≤‡ßá ‡¶≠‡ßã‡¶ü ‡¶¨‡ßÉ‡¶•‡¶æ", "‚Ä¢ ‡¶¨‡ßÅ‡¶•‡ßá‡¶∞ ‡¶≠‡ßá‡¶§‡¶∞‡ßá‡¶ì ‡¶™‡ßã‡¶ú ‡¶ñ‡ßã‡¶Å‡¶ú‡ßá", "‚Ä¢ ‡¶´‡ßá‡¶∏‡¶¨‡ßÅ‡¶ï ‡¶≤‡¶æ‡¶á‡¶≠‡ßá ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ ‡¶∏‡ßç‡¶≤‡ßã‡¶ó‡¶æ‡¶® ‡¶¶‡ßá‡ßü"] },
            { title: "‡¶ï‡¶®‡¶´‡¶ø‡¶â‡¶ú‡¶° ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ üòµ‚Äçüí´", traits: ["‚Ä¢ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡¶ü ‡¶π‡¶æ‡¶§‡ßá ‡¶™‡ßá‡ßü‡ßá ‡¶¶‡¶ø‡¶ó‡ßç‡¶¨‡¶ø‡¶¶‡¶ø‡¶ï ‡¶π‡¶æ‡¶∞‡¶æ‡ßü", "‚Ä¢ ‡¶™‡ßã‡¶≤‡¶ø‡¶Ç ‡¶Ö‡¶´‡¶ø‡¶∏‡¶æ‡¶∞‡¶ï‡ßá ‡¶ö‡¶ø‡¶®‡ßá‡¶ì ‡¶ö‡ßá‡¶®‡ßá ‡¶®‡¶æ", "‚Ä¢ ‡¶ï‡¶≤‡¶Æ ‡¶®‡¶ø‡¶§‡ßá ‡¶≠‡ßÅ‡¶≤‡ßá ‡¶Ø‡¶æ‡ßü"] },
            { title: "‡¶ò‡ßÅ‡¶Æ‡¶ï‡¶æ‡¶§‡ßÅ‡¶∞‡ßá ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ üò¥", traits: ["‚Ä¢ ‡¶≠‡ßã‡¶ü‡ßá‡¶∞ ‡¶≤‡¶æ‡¶á‡¶®‡ßá ‡¶¶‡¶æ‡¶Å‡ßú‡¶ø‡ßü‡ßá‡¶ì ‡¶ù‡¶ø‡¶Æ‡¶æ‡ßü", "‚Ä¢ ‡¶≠‡ßã‡¶ü ‡¶¶‡¶ø‡ßü‡ßá ‡¶è‡¶∏‡ßá ‡ß© ‡¶¶‡¶ø‡¶® ‡¶ò‡ßÅ‡¶Æ‡¶æ‡ßü", "‚Ä¢ ‡¶∏‡¶ï‡¶æ‡¶≤‡ßá‡¶∞ ‡¶≠‡ßã‡¶ü ‡¶¨‡¶ø‡¶ï‡ßá‡¶≤‡ßá ‡¶¶‡¶ø‡¶§‡ßá ‡¶Ø‡¶æ‡ßü"] },
            { title: "‡¶∏‡¶ø‡¶∞‡¶ø‡ßü‡¶æ‡¶∏ ‡¶¶‡ßá‡¶∂‡¶™‡ßç‡¶∞‡ßá‡¶Æ‡¶ø‡¶ï üáßüá©", traits: ["‚Ä¢ ‡¶≠‡ßã‡¶∞ ‡ß´‡¶ü‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶≤‡¶æ‡¶á‡¶®‡ßá ‡¶¶‡¶æ‡¶Å‡ßú‡¶ø‡ßü‡ßá ‡¶•‡¶æ‡¶ï‡ßá", "‚Ä¢ ‡¶®‡¶ø‡ßü‡¶Æ ‡¶®‡¶ø‡ßü‡ßá ‡¶∏‡¶¨‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶§‡¶∞‡ßç‡¶ï ‡¶ï‡¶∞‡ßá", "‚Ä¢ ‡¶≠‡ßã‡¶ü ‡¶¶‡¶ø‡ßü‡ßá ‡¶Ü‡¶ô‡ßÅ‡¶≤ ‡¶â‡¶Å‡¶ö‡¶ø‡ßü‡ßá ‡¶ò‡ßÅ‡¶∞‡ßá ‡¶¨‡ßá‡ßú‡¶æ‡ßü"] },
            { title: "‡¶ö‡¶æ‡ßü‡ßá‡¶∞ ‡¶ï‡¶æ‡¶™‡ßá ‡¶ù‡ßú ‡¶§‡ßã‡¶≤‡¶æ ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ ‚òï", traits: ["‚Ä¢ ‡¶ö‡¶æ‡ßü‡ßá‡¶∞ ‡¶¶‡ßã‡¶ï‡¶æ‡¶®‡ßá ‡¶¨‡¶∏‡ßá ‡¶≠‡ßã‡¶ü ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£ ‡¶ï‡¶∞‡ßá", "‚Ä¢ ‡¶™‡ßç‡¶∞‡¶æ‡¶∞‡ßç‡¶•‡ßÄ‡¶ï‡ßá ‡¶®‡¶æ ‡¶ö‡¶ø‡¶®‡¶≤‡ßá‡¶ì ‡¶¨‡ßú ‡¶¨‡ßú ‡¶≤‡ßá‡¶ï‡¶ö‡¶æ‡¶∞ ‡¶¶‡ßá‡ßü", "‚Ä¢ ‡¶ï‡¶æ‡¶ï‡ßá ‡¶≠‡ßã‡¶ü ‡¶¶‡¶ø‡¶¨‡ßá ‡¶§‡¶æ ‡¶≠‡ßã‡¶ü‡ßá‡¶∞ ‡¶¶‡¶ø‡¶® ‡¶∏‡¶ï‡¶æ‡¶≤‡ßá ‡¶†‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá"] },
            { title: "‡¶∏‡ßã‡¶∂‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶Æ‡¶ø‡¶°‡¶ø‡ßü‡¶æ ‡¶è‡¶ï‡¶ü‡¶ø‡¶≠‡¶ø‡¶∏‡ßç‡¶ü üì±", traits: ["‚Ä¢ ‡¶Ü‡¶ô‡ßÅ‡¶≤‡ßá‡¶∞ ‡¶ï‡¶æ‡¶≤‡¶ø‡¶∞ ‡¶´‡¶ü‡ßã‡¶§‡ßá ‡ßß‡ß¶‡¶ü‡¶ø ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá", "‚Ä¢ ‡¶≤‡¶æ‡¶á‡¶®‡ßá ‡¶¶‡¶æ‡¶Å‡ßú‡¶æ‡¶®‡ßã ‡¶•‡ßá‡¶ï‡ßá ‡¶≠‡ßã‡¶ü ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡ßß‡ß¶‡¶ü‡¶æ ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡¶ø ‡¶¶‡ßá‡ßü", "‚Ä¢ ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶¨‡¶ï‡ßç‡¶∏‡ßá ‡¶∏‡¶¨‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶§‡¶∞‡ßç‡¶ï‡ßá ‡¶Æ‡ßá‡¶§‡ßá ‡¶•‡¶æ‡¶ï‡ßá"] },
            { title: "‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡¶æ ‡¶™‡¶æ‡¶ó‡¶≤ ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ üö©", traits: ["‚Ä¢ ‡¶™‡ßç‡¶∞‡¶æ‡¶∞‡ßç‡¶•‡ßÄ‡¶∞ ‡¶ö‡ßá‡¶π‡¶æ‡¶∞‡¶æ ‡¶¶‡ßá‡¶ñ‡ßá ‡¶®‡¶æ, ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡¶æ ‡¶¶‡ßá‡¶ñ‡ßá", "‚Ä¢ ‡¶≠‡ßã‡¶ü‡ßá‡¶∞ ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶∞‡¶æ‡¶§‡ßá ‡¶â‡¶§‡ßç‡¶§‡ßá‡¶ú‡¶®‡¶æ‡ßü ‡¶ò‡ßÅ‡¶Æ‡¶æ‡ßü ‡¶®‡¶æ", "‚Ä¢ ‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ú‡¶æ‡¶® ‡¶¶‡¶ø‡ßü‡ßá ‡¶¶‡ßá‡ßü"] },
            { title: "‡¶ï‡¶ø‡¶™‡¶ü‡¶æ ‡¶ì ‡¶∞‡¶π‡¶∏‡ßç‡¶Ø‡¶Æ‡ßü ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ ü§´", traits: ["‚Ä¢ ‡¶ï‡¶æ‡¶ï‡ßá ‡¶≠‡ßã‡¶ü ‡¶¶‡¶ø‡ßü‡ßá‡¶õ‡ßá ‡¶ï‡¶æ‡¶â‡¶ï‡ßá‡¶á ‡¶¨‡¶≤‡¶¨‡ßá ‡¶®‡¶æ", "‚Ä¢ ‡¶è‡¶Æ‡¶®‡¶ï‡¶ø ‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶∏‡ßç‡¶¨‡¶æ‡¶Æ‡ßÄ/‡¶∏‡ßç‡¶§‡ßç‡¶∞‡ßÄ‡¶ï‡ßá‡¶ì ‡¶∏‡¶®‡ßç‡¶¶‡ßá‡¶π ‡¶ï‡¶∞‡ßá", "‚Ä¢ ‡¶≠‡ßã‡¶ü ‡¶¶‡¶ø‡ßü‡ßá ‡¶è‡¶∏‡ßá ‡¶è‡¶Æ‡¶® ‡¶≠‡¶æ‡¶¨ ‡¶ï‡¶∞‡ßá ‡¶Ø‡ßá‡¶® ‡¶ï‡¶ø‡¶õ‡ßÅ‡¶á ‡¶π‡ßü‡¶®‡¶ø"] },
            { title: "‡¶â‡ßé‡¶∏‡¶¨ ‡¶™‡ßç‡¶∞‡¶ø‡ßü ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ üéâ", traits: ["‚Ä¢ ‡¶≠‡ßã‡¶ü‡¶ï‡ßá ‡¶à‡¶¶‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶Æ‡¶®‡ßá ‡¶ï‡¶∞‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶ú‡¶æ‡¶Æ‡¶æ ‡¶™‡¶∞‡ßá", "‚Ä¢ ‡¶≠‡ßã‡¶ü ‡¶∂‡ßá‡¶∑‡ßá ‡¶Æ‡ßá‡¶≤‡¶æ‡ßü ‡¶¨‡¶æ ‡¶ò‡ßÅ‡¶∞‡¶§‡ßá ‡¶Ø‡¶æ‡¶ì‡ßü‡¶æ‡¶∞ ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶® ‡¶•‡¶æ‡¶ï‡ßá", "‚Ä¢ ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶∏‡¶¨‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ï‡ßÅ‡¶∂‡¶≤ ‡¶¨‡¶ø‡¶®‡¶ø‡¶Æ‡ßü ‡¶ï‡¶∞‡ßá ‡¶¨‡ßá‡ßú‡¶æ‡ßü"] },
            { title: "‡¶ß‡¶∞‡ßá ‡¶Ü‡¶®‡¶æ ‡¶Ö‡¶®‡¶ø‡¶ö‡ßç‡¶õ‡ßÅ‡¶ï ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ üò©", traits: ["‚Ä¢ ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶¶‡ßá‡¶∞ ‡¶ö‡¶æ‡¶™‡ßá ‡¶≠‡ßã‡¶ü ‡¶¶‡¶ø‡¶§‡ßá ‡¶¨‡¶æ‡¶ß‡ßç‡¶Ø ‡¶π‡ßü", "‚Ä¢ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡¶ü ‡¶π‡¶æ‡¶§‡ßá ‡¶™‡ßá‡ßü‡ßá ‡¶ö‡ßã‡¶ñ ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßá ‡¶∏‡¶ø‡¶≤ ‡¶Æ‡¶æ‡¶∞‡ßá", "‚Ä¢ ‡¶ï‡¶ñ‡¶® ‡¶¨‡¶æ‡¶∏‡¶æ‡ßü ‡¶´‡¶ø‡¶∞‡¶¨‡ßá ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶∏‡ßá‡¶á ‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶æ‡ßü ‡¶Ö‡¶∏‡ßç‡¶•‡¶ø‡¶∞ ‡¶•‡¶æ‡¶ï‡ßá"] },
            { title: "‡¶Æ‡ßÅ‡¶∞‡ßÅ‡¶¨‡ßç‡¶¨‡¶ø ‡¶â‡¶™‡¶¶‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ üë¥", traits: ["‚Ä¢ ‡ß≠‡ß¶ ‡¶∏‡¶æ‡¶≤‡ßá‡¶∞ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶®‡ßá‡¶∞ ‡¶ó‡¶≤‡ßç‡¶™ ‡¶∂‡ßÅ‡¶®‡¶ø‡ßü‡ßá ‡¶≤‡¶æ‡¶á‡¶® ‡¶ó‡¶∞‡¶Æ ‡¶∞‡¶æ‡¶ñ‡ßá", "‚Ä¢ ‡¶™‡ßã‡¶≤‡¶ø‡¶Ç ‡¶Ö‡¶´‡¶ø‡¶∏‡¶æ‡¶∞‡¶ï‡ßá ‡¶Æ‡¶æ‡¶ù‡ßá‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶™‡¶∞‡¶æ‡¶Æ‡¶∞‡ßç‡¶∂ ‡¶¶‡ßá‡ßü", "‚Ä¢ ‡¶≠‡ßã‡¶ü ‡¶¶‡¶ø‡ßü‡ßá ‡¶è‡¶∏‡ßá ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶≠‡¶¨‡¶ø‡¶∑‡ßç‡¶Ø‡ßé ‡¶®‡¶ø‡ßü‡ßá ‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶ø‡¶§ ‡¶•‡¶æ‡¶ï‡ßá"] },
            { title: "‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶∏‡¶ö‡ßá‡¶§‡¶® ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ üßê", traits: ["‚Ä¢ ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ ‡¶∏‡ßç‡¶≤‡¶ø‡¶™ ‡¶π‡¶æ‡¶∞‡¶ø‡ßü‡ßá ‡¶ó‡ßá‡¶≤‡ßá‡¶ì ‡¶´‡ßã‡¶®‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶¶‡¶ø‡ßü‡ßá ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡ßá", "‚Ä¢ ‡¶™‡ßç‡¶∞‡¶æ‡¶∞‡ßç‡¶•‡ßÄ‡¶∞ ‡¶¨‡¶æ‡ßü‡ßã‡¶°‡¶æ‡¶ü‡¶æ ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü‡ßá ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßá", "‚Ä¢ ‡¶Ü‡¶ô‡ßÅ‡¶≤‡ßá ‡¶ï‡¶æ‡¶≤‡¶ø ‡¶≤‡¶æ‡¶ó‡¶æ‡¶®‡ßã‡¶∞ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ ‡¶¶‡ßá‡¶ñ‡ßá ‡¶∞‡ßá‡¶ü‡¶ø‡¶Ç ‡¶¶‡ßá‡ßü"] }
        ];

        function selectMood(mood, btn) {
            currentMood = mood;
            document.querySelectorAll('.mood-btn').forEach(b => b.classList.remove('border-purple-500', 'bg-purple-50'));
            btn.classList.add('border-purple-500', 'bg-purple-50');
        }

        function generateMagic() {
            const name = document.getElementById('userName').value.trim();
            if (!name) return alert("‡¶¨‡¶∏, ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ‡¶ü‡¶æ ‡¶§‡ßã ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®!");

            document.getElementById('input-area').classList.add('hidden');
            document.getElementById('loading-area').classList.remove('hidden');

            setTimeout(() => {
                drawCard(name);
                document.getElementById('loading-area').classList.add('hidden');
                document.getElementById('result-area').classList.remove('hidden');
            }, 1500);
        }

        function drawCard(name) {
            const canvas = document.getElementById('posterCanvas');
            const ctx = canvas.getContext('2d');
            
            // ‡¶®‡¶æ‡¶Æ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶á‡¶®‡¶°‡ßá‡¶ï‡ßç‡¶∏ ‡¶®‡¶ø‡¶∞‡ßç‡¶ß‡¶æ‡¶∞‡¶£
            const index = Math.abs(name.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0) % types.length);
            const data = types[index];

            const grad = ctx.createLinearGradient(0, 0, 1080, 1350);
            if(currentMood === 'funny') { grad.addColorStop(0, '#A855F7'); grad.addColorStop(1, '#EC4899'); }
            else if(currentMood === 'cool') { grad.addColorStop(0, '#1E293B'); grad.addColorStop(1, '#334155'); }
            else { grad.addColorStop(0, '#94A3B8'); grad.addColorStop(1, '#64748B'); }
            
            ctx.fillStyle = grad;
            ctx.fillRect(0, 0, 1080, 1350);

            ctx.fillStyle = 'rgba(255, 255, 255, 0.98)';
            roundRect(ctx, 60, 60, 960, 1230, 50, true);

            ctx.textAlign = "center";
            ctx.fillStyle = "#7c3aed";
            ctx.font = "bold 45px 'Hind Siliguri'";
            ctx.fillText(name + "-‡¶ï‡ßã‡¶® ‡¶ü‡¶æ‡¶á‡¶™‡ßá‡¶∞ ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞?", 540, 180);

            ctx.fillStyle = "#1e293b";
            ctx.font = "bold 72px 'Hind Siliguri'";
            ctx.fillText(data.title, 540, 320);

            ctx.strokeStyle = "#ddd";
            ctx.lineWidth = 3;
            ctx.beginPath(); ctx.moveTo(250, 400); ctx.lineTo(830, 400); ctx.stroke();

            ctx.textAlign = "left";
            ctx.fillStyle = "#475569";
            ctx.font = "500 42px 'Hind Siliguri'";
            data.traits.forEach((t, i) => {
                ctx.fillText(t, 200, 530 + (i * 100));
            });

            ctx.textAlign = "center";
            ctx.font = "200px serif";
            const emojiList = {
                'funny': 'ü§£', 'cool': 'üòé', 'tired': 'üò¥'
            };
            ctx.fillText(emojiList[currentMood], 540, 950);

            ctx.fillStyle = "#94a3b8";
            ctx.font = "bold 30px 'Hind Siliguri'";
            ctx.fillText("site: " + siteURL.replace('https://','').replace('http://',''), 540, 1120);
            
            ctx.fillStyle = "#7c3aed";
            ctx.font = "bold 35px 'Hind Siliguri'";
            ctx.fillText("DEVELOPED BY SOFIKUL ISLAM ", 540, 1180);

            document.getElementById('outputImage').src = canvas.toDataURL('image/png');
        }

        async function shareResult() {
            const canvas = document.getElementById('posterCanvas');
            const dataUrl = canvas.toDataURL();
            const blob = await (await fetch(dataUrl)).blob();
            const file = new File([blob], 'voter_type.png', { type: 'image/png' });

            if (navigator.share) {
                navigator.share({
                    title: '‡¶Ü‡¶Æ‡¶ø ‡¶ï‡ßã‡¶® ‡¶ü‡¶æ‡¶á‡¶™‡ßá‡¶∞ ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞? üòÇ',
                    text: '‡¶è‡¶á ‡¶∏‡¶æ‡¶á‡¶ü ‡¶¶‡¶ø‡ßü‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ ‡¶ü‡¶æ‡¶á‡¶™ ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡¶≤‡¶æ‡¶Æ! ‡¶Ü‡¶™‡¶®‡¶ø‡¶ì ‡¶ü‡ßç‡¶∞‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶®‡•§',
                    url: siteURL,
                    files: [file]
                });
            } else {
                window.open(`https://wa.me/?text=‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ ‡¶ü‡¶æ‡¶á‡¶™ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® ‡¶è‡¶ñ‡¶æ‡¶®‡ßá: ${siteURL}`, '_blank');
            }
        }

        function downloadImage() {
            const a = document.createElement('a');
            a.download = 'voter-personality.png';
            a.href = document.getElementById('outputImage').src;
            a.click();
        }

        function roundRect(ctx, x, y, width, height, radius, fill) {
            ctx.beginPath();
            ctx.moveTo(x + radius, y);
            ctx.lineTo(x + width - radius, y);
            ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
            ctx.lineTo(x + width, y + height - radius);
            ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
            ctx.lineTo(x + radius, y + height);
            ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
            ctx.lineTo(x, y + radius);
            ctx.quadraticCurveTo(x, y, x + radius, y);
            ctx.closePath();
            if (fill) ctx.fill();
        }
    </script>
</body>
</html>
